"use strict";(self.webpackChunkoffer_director=self.webpackChunkoffer_director||[]).push([[234],{8234:(Y,p,i)=>{i.r(p),i.d(p,{OfferModule:()=>B});var h=i(4466),s=i(9808),t=i(5e3),o=i(3075);let f=(()=>{class e{constructor(r){this._formBuilder=r,this.title="Offer"}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["od-offer"]],decls:3,vars:1,consts:[[1,"p-2","text-center"]],template:function(r,a){1&r&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t._UZ(2,"od-create-offer")),2&r&&(t.xp6(1),t.Oqu(a.title))},styles:[""]}),e})();var Z=i(4996);const g=[{path:"",children:[{path:"",component:f}]}];let _=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(g)],Z.Bz]}),e})();var q=i(9841),C=i(7261),m=i(2081),v=i(8099),l=i(7322),A=i(7531),c=i(6856),U=i(4834),T=i(7423);function x(e,n){1&e&&(t.TgZ(0,"span")(1,"mat-icon",37),t._uU(2,"error"),t.qZA()())}function b(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Add Quote"),t.qZA(),t.YNc(2,x,3,0,"span",36)),2&e){const r=t.oxw();t.xp6(2),t.Q6J("ngIf",r.headerForm.dirty&&"INVALID"==r.headerForm.status)}}function I(e,n){1&e&&(t.TgZ(0,"span")(1,"mat-icon",37),t._uU(2,"error"),t.qZA()())}function y(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Add Customer"),t.qZA(),t.YNc(2,I,3,0,"span",36)),2&e){const r=t.oxw();t.xp6(2),t.Q6J("ngIf",r.customerForm.dirty&&"INVALID"==r.customerForm.status)}}function N(e,n){1&e&&(t.TgZ(0,"span")(1,"mat-icon",37),t._uU(2,"error"),t.qZA()())}function O(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1," Add Products"),t.qZA(),t.YNc(2,N,3,0,"span",36)),2&e){const r=t.oxw();t.xp6(2),t.Q6J("ngIf",r.products.dirty&&r.products.invalid)}}function k(e,n){1&e&&(t.TgZ(0,"span")(1,"mat-icon",37),t._uU(2,"error"),t.qZA()())}function F(e,n){if(1&e){const r=t.EpF();t.ynx(0,38),t.TgZ(1,"div",39)(2,"h3",30)(3,"span"),t._uU(4),t.YNc(5,k,3,0,"span",36),t.qZA(),t._UZ(6,"span",31),t.TgZ(7,"span")(8,"div",40)(9,"button",41),t.NdJ("click",function(){const d=t.CHM(r).index;return t.oxw().removeProduct(d)}),t.TgZ(10,"mat-icon"),t._uU(11,"delete"),t.qZA()()()()(),t.TgZ(12,"div",5)(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",42),t.qZA()(),t.TgZ(18,"div",6)(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",43),t.qZA()(),t.TgZ(23,"div",6)(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Make"),t.qZA(),t._UZ(27,"input",44),t.qZA()(),t.TgZ(28,"div",6)(29,"mat-form-field",7)(30,"mat-label"),t._uU(31,"Quantity"),t.qZA(),t._UZ(32,"input",45),t.qZA()(),t.TgZ(33,"div",6)(34,"mat-form-field",7)(35,"mat-label"),t._uU(36,"Price"),t.qZA(),t._UZ(37,"input",46),t.qZA()(),t._UZ(38,"div",6),t.qZA(),t._UZ(39,"mat-divider",16),t.qZA(),t.BQk()}if(2&e){const r=n.$implicit,a=n.index;t.xp6(1),t.Q6J("formGroupName",a),t.xp6(3),t.AsE(" (",a+1,") ",null==r||null==r.value?null:r.value.name," "),t.xp6(1),t.Q6J("ngIf",r.dirty&&r.invalid)}}function J(e,n){1&e&&t._uU(0,"Generate Offer")}let P=(()=>{class e{constructor(r,a){this._formBuilder=r,this._snackBar=a,this.defaultValidity=new Date,this.isLinear=!1,this.isDisabled=!0,this.durationInSeconds=5}ngOnInit(){this.defaultValidity.setDate(this.defaultValidity.getDate()+15),this.headerForm=this._formBuilder.group({quoteNumber:["",o.kI.required],contactPerson:["Ms. Tanu Rustagi"],contactPhone:["+91 9818995569"],contactEmail:["tanu@atsfoodequipment.com"],validity:[this.defaultValidity,o.kI.required]}),this.customerForm=this._formBuilder.group({name:["",o.kI.required],orgName:["",o.kI.required],email:["",o.kI.compose([o.kI.required,o.kI.email])],add1:["",o.kI.compose([o.kI.required,o.kI.maxLength(100)])],add2:["",o.kI.maxLength(100)],city:["",o.kI.required],state:["",o.kI.required],pinCode:["",o.kI.required]}),this.productForm=this._formBuilder.group({products:this._formBuilder.array([this.getProductGroup()])}),this.form=this._formBuilder.group({headers:this.headerForm,customer:this.customerForm,products:this.products}),(0,q.a)([this.headerForm.valueChanges,this.customerForm.valueChanges,this.productForm.valueChanges]).subscribe(r=>{switch(!1){case this.headerForm.valid:case this.customerForm.valid:case this.productForm.valid:this.isDisabled=!0;break;default:this.isDisabled=!1}})}get products(){return this.productForm.get("products")}getProductGroup(){return this._formBuilder.group({code:[""],name:["",o.kI.required],description:["",o.kI.required],make:["",o.kI.required],quantity:["",o.kI.required],price:["",o.kI.required]})}addProduct(){this.products.push(this.getProductGroup())}removeProduct(r){this.products.removeAt(r)}downloadOffer(){if(this.headerForm.valid&&this.customerForm.valid&&this.products.valid){const r={quoteHeader:{},customer:{},products:[{}]};for(let a of Object.keys(this.headerForm.controls))r.quoteHeader=Object.assign(Object.assign({},r.quoteHeader),{[a]:this.headerForm.controls[a].value});for(let a of Object.keys(this.customerForm.controls))r.customer=Object.assign(Object.assign({},r.customer),{[a]:this.customerForm.controls[a].value});for(let a of this.products.value)r.products.push(Object.assign({},a));r.products=r.products.splice(1,r.products.length-1),this._snackBar.open("Form Generated","Console",{duration:1e3*this.durationInSeconds}),console.log(r)}else this._snackBar.open("Please fix validations","Invalid",{duration:1e3*this.durationInSeconds})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu),t.Y36(C.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["od-create-offer"]],decls:116,vars:10,consts:[["orientation","vertical",3,"linear"],["stepper",""],[1,"d-flex","w-100",3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-12"],["appearance","fill",1,"w-100"],["type","number","matInput","","placeholder","(required | number)","formControlName","quoteNumber","required",""],["type","text","matInput","","placeholder","(readonly | text)","formControlName","contactPerson","readonly","true"],["type","tel","matInput","","placeholder","(readonly | text)","formControlName","contactPhone","readonly","true"],["type","email","matInput","","placeholder","(readonly | text)","formControlName","contactEmail","readonly","true"],["color","primary","appearance","fill",1,"w-100"],["matInput","","formControlName","validity",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],[1,"mb-2","mt-2"],["mat-button","","matStepperNext","","color","primary"],[3,"stepControl"],["matInput","","placeholder","(required | text)","formControlName","name","required",""],["matInput","","formControlName","email","placeholder","(required | email)","requireds",""],["matInput","","formControlName","orgName","placeholder","(required | text)","required",""],["matInput","","formControlName","add1","placeholder","(required | upto 100 chars)","required",""],["matInput","","formControlName","add2","placeholder","(upto 100 chars)"],["matInput","","formControlName","city","placeholder","(required | text)","required",""],["matInput","","formControlName","state","placeholder","(required | text)","required",""],["type","number","step","1","matInput","","formControlName","pinCode","placeholder","(required | text)","required",""],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["formArrayName","products",4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"flex-expand"],["mat-mini-fab","","color","primary","title","Add Product",3,"click"],[1,"text-center"],["mat-mini-fab","","color","primary","title","Check console for form details",3,"click"],["mat-button","",3,"click"],[4,"ngIf"],["color","warn"],["formArrayName","products"],[3,"formGroupName"],[1,"w-100"],["mat-mini-fab","","color","warn","title","Remove Product",3,"click"],["type","text","matInput","","placeholder","(required | text)","formControlName","name","required",""],["type","text","matInput","","placeholder","(required | text)","formControlName","description"],["type","tel","matInput","","placeholder","(required | text)","formControlName","make"],["type","number","matInput","","placeholder","(required | number)","formControlName","quantity","step","1"],["type","number","matInput","","placeholder","Price","formControlName","price"]],template:function(r,a){if(1&r){const u=t.EpF();t.TgZ(0,"div")(1,"mat-stepper",0,1)(3,"mat-step",2)(4,"form",3),t.YNc(5,b,3,1,"ng-template",4),t.TgZ(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Quote Number"),t.qZA(),t._UZ(11,"input",8),t.qZA()(),t.TgZ(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),t._uU(15,"Contact Person"),t.qZA(),t._UZ(16,"input",9),t.qZA()(),t.TgZ(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),t._uU(20,"Contact Phone"),t.qZA(),t._UZ(21,"input",10),t.qZA()(),t.TgZ(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Contact Email"),t.qZA(),t._UZ(26,"input",11),t.qZA()(),t.TgZ(27,"div",6)(28,"mat-form-field",12)(29,"mat-label"),t._uU(30,"Valid till Date"),t.qZA(),t._UZ(31,"input",13),t.TgZ(32,"mat-hint"),t._uU(33,"MM/DD/YYYY"),t.qZA(),t._UZ(34,"mat-datepicker-toggle",14)(35,"mat-datepicker",null,15),t.qZA()()(),t._UZ(37,"mat-divider",16),t.TgZ(38,"div")(39,"button",17),t._uU(40,"Next"),t.qZA()()()(),t.TgZ(41,"mat-step",18)(42,"form",3),t.YNc(43,y,3,1,"ng-template",4),t.TgZ(44,"div",5)(45,"div",6)(46,"mat-form-field",7)(47,"mat-label"),t._uU(48,"Name"),t.qZA(),t._UZ(49,"input",19),t.qZA()(),t.TgZ(50,"div",6)(51,"mat-form-field",7)(52,"mat-label"),t._uU(53,"Email"),t.qZA(),t._UZ(54,"input",20),t.qZA()(),t.TgZ(55,"div",6)(56,"mat-form-field",7)(57,"mat-label"),t._uU(58,"Organization"),t.qZA(),t._UZ(59,"input",21),t.qZA()(),t.TgZ(60,"div",6)(61,"mat-form-field",7)(62,"mat-label"),t._uU(63,"Address 1"),t.qZA(),t._UZ(64,"input",22),t.qZA()(),t.TgZ(65,"div",6)(66,"mat-form-field",7)(67,"mat-label"),t._uU(68,"Address 2"),t.qZA(),t._UZ(69,"input",23),t.qZA()(),t.TgZ(70,"div",6)(71,"mat-form-field",7)(72,"mat-label"),t._uU(73,"City"),t.qZA(),t._UZ(74,"input",24),t.qZA()(),t.TgZ(75,"div",6)(76,"mat-form-field",7)(77,"mat-label"),t._uU(78,"State"),t.qZA(),t._UZ(79,"input",25),t.qZA()(),t.TgZ(80,"div",6)(81,"mat-form-field",7)(82,"mat-label"),t._uU(83,"Pin Code"),t.qZA(),t._UZ(84,"input",26),t.qZA()()(),t._UZ(85,"mat-divider",16),t.TgZ(86,"div")(87,"button",27),t._uU(88,"Back"),t.qZA(),t.TgZ(89,"button",28),t._uU(90,"Next"),t.qZA()()()(),t.TgZ(91,"mat-step",2)(92,"form",3),t.YNc(93,O,3,1,"ng-template",4),t.YNc(94,F,40,4,"ng-container",29),t.TgZ(95,"div",30)(96,"button",27),t._uU(97,"Back"),t.qZA(),t.TgZ(98,"button",17),t._uU(99,"Next"),t.qZA(),t._UZ(100,"span",31),t.TgZ(101,"button",32),t.NdJ("click",function(){return a.addProduct()}),t.TgZ(102,"mat-icon"),t._uU(103,"add_circle"),t.qZA()()()()(),t.TgZ(104,"mat-step"),t.YNc(105,J,1,0,"ng-template",4),t.TgZ(106,"div")(107,"div",33)(108,"button",34),t.NdJ("click",function(){return a.downloadOffer()}),t.TgZ(109,"mat-icon"),t._uU(110,"cloud_download"),t.qZA()()(),t._UZ(111,"mat-divider",16),t.TgZ(112,"button",27),t._uU(113,"Back"),t.qZA(),t.TgZ(114,"button",35),t.NdJ("click",function(){return t.CHM(u),t.MAs(2).reset()}),t._uU(115,"Reset"),t.qZA()()()()()}if(2&r){const u=t.MAs(36);t.xp6(1),t.Q6J("linear",a.isLinear),t.xp6(2),t.Q6J("stepControl",a.headerForm),t.xp6(1),t.Q6J("formGroup",a.headerForm),t.xp6(27),t.Q6J("matDatepicker",u),t.xp6(3),t.Q6J("for",u),t.xp6(7),t.Q6J("stepControl",a.customerForm),t.xp6(1),t.Q6J("formGroup",a.customerForm),t.xp6(49),t.Q6J("stepControl",a.productForm),t.xp6(1),t.Q6J("formGroup",a.productForm),t.xp6(2),t.Q6J("ngForOf",a.products.controls)}},directives:[m.Vq,m.C0,o._Y,o.JL,o.sg,m.VY,s.O5,v.Hw,l.KE,l.hX,o.wV,A.Nt,o.Fj,o.JJ,o.u,o.Q7,c.hl,l.bx,c.nW,l.R9,c.Mq,U.d,T.lW,m.Ic,m.fd,s.sg,o.CE,o.x0],styles:[""]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,h.m,_]]}),e})();t.B6R(f,[P],[])}}]);